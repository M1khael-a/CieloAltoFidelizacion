{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-10">
    <div class="card shadow-lg border-0 rounded-4">
      <div class="card-body p-5">

        <h2 class="fw-bold text-center mb-4" style="color:#00b894;">¬°Hola {{ nombre_cliente }}!</h2>
        <p class="text-center text-muted mb-5">Este es tu progreso en el programa de fidelizaci√≥n de <span class="fw-bold">Cielo Alto</span>.</p>

        <!-- Barra de progreso tipo "term√≥metro/franja" -->
        {% set width = porcentaje ~ '%' %}
        <div class="progress mb-4 rounded-pill" style="height: 35px; background-color: #dfe6e9;">
          <div class="progress-bar progress-bar-striped fw-bold" role="progressbar" 
             style="width: {{ width }}; background: linear-gradient(90deg,#55efc4,#81ecec);"
               aria-valuenow="{{ porcentaje }}" aria-valuemin="0" aria-valuemax="100">
            {{ puntos }} pts
          </div>
        </div>

        <!-- Premios disponibles -->
        <div class="row text-center mt-5">
            {% for premio in premios %}
            <div class="col-md-4 mb-4">
            <div class="card border-0 shadow-sm rounded-4 h-100">
                <div class="card-body d-flex flex-column justify-content-center">
                <h5 class="fw-bold mb-2" style="color:#6c5ce7;">üéÅ {{ premio.nombre }}</h5>
                <p class="text-muted small">{{ premio.descripcion }}</p>
                {% if puntos >= premio.puntos_requeridos %}
                    <span class="badge bg-success p-2">¬°Disponible!</span>
                {% else %}
                    <span class="badge bg-secondary p-2">
                    Necesitas {{ premio.puntos_requeridos - puntos }} pts m√°s
                    </span>
                {% endif %}
                </div>
            </div>
            </div>
            {% endfor %}
        </div>

        <!-- Bot√≥n volver -->
        <div class="text-center mt-4">
          <a href="{{ url_for('users.consulta') }}" class="btn btn-outline-dark rounded-pill px-4">Volver</a>
        </div>

      </div>
    </div>
  </div>
</div>
{% endblock %}
